{"version":3,"file":"luma-animate.min.js","sources":["../src/animate.js"],"sourcesContent":["/*!\r\n * LumaAnimate v0.2.0 - Animation Engine\r\n * Built-in GSAP-like animations for LumaJS\r\n * @license MIT\r\n */\r\n(function(global) {\r\n  'use strict';\r\n\r\n  // ==================== EASING FUNCTIONS ====================\r\n  \r\n  const Easing = {\r\n    linear: t => t,\r\n    \r\n    // Ease In\r\n    easeInQuad: t => t * t,\r\n    easeInCubic: t => t * t * t,\r\n    easeInQuart: t => t * t * t * t,\r\n    easeInQuint: t => t * t * t * t * t,\r\n    easeInSine: t => 1 - Math.cos((t * Math.PI) / 2),\r\n    easeInExpo: t => t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\r\n    easeInCirc: t => 1 - Math.sqrt(1 - t * t),\r\n    easeInBack: t => {\r\n      const c1 = 1.70158;\r\n      return (c1 + 1) * t * t * t - c1 * t * t;\r\n    },\r\n    \r\n    // Ease Out\r\n    easeOutQuad: t => t * (2 - t),\r\n    easeOutCubic: t => (--t) * t * t + 1,\r\n    easeOutQuart: t => 1 - (--t) * t * t * t,\r\n    easeOutQuint: t => 1 + (--t) * t * t * t * t,\r\n    easeOutSine: t => Math.sin((t * Math.PI) / 2),\r\n    easeOutExpo: t => t === 1 ? 1 : 1 - Math.pow(2, -10 * t),\r\n    easeOutCirc: t => Math.sqrt(1 - (--t) * t),\r\n    easeOutBack: t => {\r\n      const c1 = 1.70158;\r\n      return 1 + (c1 + 1) * Math.pow(t - 1, 3) + c1 * Math.pow(t - 1, 2);\r\n    },\r\n    \r\n    // Ease In Out\r\n    easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\r\n    easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\r\n    easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t,\r\n    easeInOutSine: t => -(Math.cos(Math.PI * t) - 1) / 2,\r\n    easeInOutExpo: t => {\r\n      if (t === 0) return 0;\r\n      if (t === 1) return 1;\r\n      return t < 0.5 ? Math.pow(2, 20 * t - 10) / 2 : (2 - Math.pow(2, -20 * t + 10)) / 2;\r\n    },\r\n    easeInOutCirc: t => {\r\n      return t < 0.5\r\n        ? (1 - Math.sqrt(1 - Math.pow(2 * t, 2))) / 2\r\n        : (Math.sqrt(1 - Math.pow(-2 * t + 2, 2)) + 1) / 2;\r\n    },\r\n    easeInOutBack: t => {\r\n      const c1 = 1.70158;\r\n      const c2 = c1 * 1.525;\r\n      return t < 0.5\r\n        ? (Math.pow(2 * t, 2) * ((c2 + 1) * 2 * t - c2)) / 2\r\n        : (Math.pow(2 * t - 2, 2) * ((c2 + 1) * (t * 2 - 2) + c2) + 2) / 2;\r\n    },\r\n    \r\n    // Elastic\r\n    elastic: t => {\r\n      if (t === 0 || t === 1) return t;\r\n      const p = 0.3;\r\n      return Math.pow(2, -10 * t) * Math.sin((t - p / 4) * (2 * Math.PI) / p) + 1;\r\n    },\r\n    easeInElastic: t => {\r\n      if (t === 0 || t === 1) return t;\r\n      const c4 = (2 * Math.PI) / 3;\r\n      return -Math.pow(2, 10 * t - 10) * Math.sin((t * 10 - 10.75) * c4);\r\n    },\r\n    easeOutElastic: t => {\r\n      if (t === 0 || t === 1) return t;\r\n      const c4 = (2 * Math.PI) / 3;\r\n      return Math.pow(2, -10 * t) * Math.sin((t * 10 - 0.75) * c4) + 1;\r\n    },\r\n    easeInOutElastic: t => {\r\n      if (t === 0 || t === 1) return t;\r\n      const c5 = (2 * Math.PI) / 4.5;\r\n      return t < 0.5\r\n        ? -(Math.pow(2, 20 * t - 10) * Math.sin((20 * t - 11.125) * c5)) / 2\r\n        : (Math.pow(2, -20 * t + 10) * Math.sin((20 * t - 11.125) * c5)) / 2 + 1;\r\n    },\r\n    \r\n    // Bounce - smoother version\r\n    bounce: t => {\r\n      const n1 = 7.5625;\r\n      const d1 = 2.75;\r\n      \r\n      if (t < 1 / d1) {\r\n        return n1 * t * t;\r\n      } else if (t < 2 / d1) {\r\n        return n1 * (t -= 1.5 / d1) * t + 0.75;\r\n      } else if (t < 2.5 / d1) {\r\n        return n1 * (t -= 2.25 / d1) * t + 0.9375;\r\n      } else {\r\n        return n1 * (t -= 2.625 / d1) * t + 0.984375;\r\n      }\r\n    },\r\n    easeInBounce: t => 1 - Easing.easeOutBounce(1 - t),\r\n    easeOutBounce: t => {\r\n      const n1 = 7.5625;\r\n      const d1 = 2.75;\r\n      \r\n      if (t < 1 / d1) {\r\n        return n1 * t * t;\r\n      } else if (t < 2 / d1) {\r\n        return n1 * (t -= 1.5 / d1) * t + 0.75;\r\n      } else if (t < 2.5 / d1) {\r\n        return n1 * (t -= 2.25 / d1) * t + 0.9375;\r\n      } else {\r\n        return n1 * (t -= 2.625 / d1) * t + 0.984375;\r\n      }\r\n    },\r\n    easeInOutBounce: t => t < 0.5\r\n      ? (1 - Easing.easeOutBounce(1 - 2 * t)) / 2\r\n      : (1 + Easing.easeOutBounce(2 * t - 1)) / 2\r\n  };\r\n  \r\n  // Spring physics for natural motion\r\n  Easing.spring = function(tension = 170, friction = 26) {\r\n    return function(t) {\r\n      const w0 = Math.sqrt(tension / 1);\r\n      const zeta = friction / (2 * Math.sqrt(tension * 1));\r\n      const wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\r\n      const A = 1;\r\n      const B = zeta < 1 ? (zeta * w0 + 0) / wd : 0;\r\n      \r\n      if (zeta < 1) {\r\n        const envelope = Math.exp(-zeta * w0 * t);\r\n        return 1 - envelope * (A * Math.cos(wd * t) + B * Math.sin(wd * t));\r\n      } else {\r\n        return 1 - Math.exp(-w0 * t) * (A + B * t);\r\n      }\r\n    };\r\n  };\r\n\r\n  // ==================== COLOR UTILITIES ====================\r\n  \r\n  const ColorUtils = {\r\n    hexToRgb(hex) {\r\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n      return result ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16)\r\n      } : null;\r\n    },\r\n    \r\n    rgbToHex(r, g, b) {\r\n      return '#' + [r, g, b].map(x => {\r\n        const hex = Math.round(x).toString(16);\r\n        return hex.length === 1 ? '0' + hex : hex;\r\n      }).join('');\r\n    },\r\n    \r\n    parseColor(color) {\r\n      if (color.startsWith('#')) {\r\n        return this.hexToRgb(color);\r\n      } else if (color.startsWith('rgb')) {\r\n        const match = color.match(/\\d+/g);\r\n        return match ? { r: +match[0], g: +match[1], b: +match[2] } : null;\r\n      }\r\n      return null;\r\n    },\r\n    \r\n    interpolate(color1, color2, progress) {\r\n      const c1 = this.parseColor(color1);\r\n      const c2 = this.parseColor(color2);\r\n      if (!c1 || !c2) return color2;\r\n      \r\n      const r = c1.r + (c2.r - c1.r) * progress;\r\n      const g = c1.g + (c2.g - c1.g) * progress;\r\n      const b = c1.b + (c2.b - c1.b) * progress;\r\n      \r\n      return this.rgbToHex(r, g, b);\r\n    }\r\n  };\r\n\r\n  // ==================== ANIMATION CLASS ====================\r\n  \r\n  class Animation {\r\n    constructor(element, properties, options = {}) {\r\n      this.element = element;\r\n      this.properties = properties;\r\n      this.duration = options.duration || 1000;\r\n      this.delay = options.delay || 0;\r\n      this.easing = typeof options.easing === 'function' \r\n        ? options.easing \r\n        : (Easing[options.easing] || Easing.easeOutCubic);\r\n      this.onComplete = options.onComplete;\r\n      this.onUpdate = options.onUpdate;\r\n      this.onStart = options.onStart;\r\n      this.repeat = options.repeat || 0;\r\n      this.yoyo = options.yoyo || false;\r\n      this.repeatDelay = options.repeatDelay || 0;\r\n      \r\n      this.startTime = null;\r\n      this.startValues = {};\r\n      this.endValues = {};\r\n      this.colorProperties = [];\r\n      this.animationFrame = null;\r\n      this.isRunning = false;\r\n      this.isPaused = false;\r\n      this.pausedTime = 0;\r\n      this.totalPausedTime = 0;\r\n      this.currentRepeat = 0;\r\n      this.isReversed = false;\r\n      \r\n      this._parseProperties();\r\n    }\r\n    \r\n    _parseProperties() {\r\n      for (const [key, value] of Object.entries(this.properties)) {\r\n        if (key === 'transform') {\r\n          this._parseTransform(value);\r\n        } else if (this._isColorProperty(key)) {\r\n          this.colorProperties.push(key);\r\n          this.startValues[key] = this._getCurrentColorValue(key);\r\n          this.endValues[key] = value;\r\n        } else {\r\n          const current = this._getCurrentValue(key);\r\n          this.startValues[key] = current;\r\n          this.endValues[key] = this._parseValue(value, current);\r\n        }\r\n      }\r\n    }\r\n    \r\n    _isColorProperty(prop) {\r\n      const colorProps = ['color', 'backgroundColor', 'borderColor', 'fill', 'stroke'];\r\n      return colorProps.some(cp => prop.toLowerCase().includes(cp.toLowerCase()));\r\n    }\r\n    \r\n    _getCurrentColorValue(property) {\r\n      const computed = window.getComputedStyle(this.element);\r\n      let color = computed[property];\r\n      \r\n      // If it's a gradient or complex value, default to a base color\r\n      if (!color || color === 'none' || color.includes('gradient')) {\r\n        // Get a reasonable default based on property\r\n        if (property === 'backgroundColor') return 'rgb(255, 255, 255)';\r\n        return 'rgb(0, 0, 0)';\r\n      }\r\n      \r\n      return color;\r\n    }\r\n    \r\n    _parseTransform(transform) {\r\n      // Parse transform string like \"translateX(100px) rotate(45deg)\"\r\n      const transforms = typeof transform === 'string' ? this._parseTransformString(transform) : transform;\r\n      \r\n      for (const [key, value] of Object.entries(transforms)) {\r\n        const current = this._getCurrentTransform(key);\r\n        this.startValues[`transform.${key}`] = current;\r\n        this.endValues[`transform.${key}`] = this._parseValue(value, current);\r\n      }\r\n    }\r\n    \r\n    _parseTransformString(str) {\r\n      const transforms = {};\r\n      const regex = /(\\w+)\\(([^)]+)\\)/g;\r\n      let match;\r\n      \r\n      while ((match = regex.exec(str)) !== null) {\r\n        transforms[match[1]] = match[2];\r\n      }\r\n      \r\n      return transforms;\r\n    }\r\n    \r\n    _getCurrentValue(property) {\r\n      const computed = window.getComputedStyle(this.element);\r\n      const value = computed[property];\r\n      return parseFloat(value) || 0;\r\n    }\r\n    \r\n    _getCurrentTransform(property) {\r\n      const matrix = window.getComputedStyle(this.element).transform;\r\n      if (matrix === 'none') return 0;\r\n      \r\n      // Parse matrix for transform values\r\n      // For simplicity, return 0 - in production, parse matrix properly\r\n      return 0;\r\n    }\r\n    \r\n    _parseValue(value, current) {\r\n      if (typeof value === 'string') {\r\n        // Handle relative values like \"+=100\" or \"-=50\"\r\n        if (value.startsWith('+=')) {\r\n          return current + parseFloat(value.slice(2));\r\n        } else if (value.startsWith('-=')) {\r\n          return current - parseFloat(value.slice(2));\r\n        }\r\n        return parseFloat(value);\r\n      }\r\n      return value;\r\n    }\r\n    \r\n    start() {\r\n      if (this.isRunning && !this.isPaused) return this;\r\n      \r\n      if (this.isPaused) {\r\n        this.isPaused = false;\r\n        this.totalPausedTime += performance.now() - this.pausedTime;\r\n        this.animationFrame = requestAnimationFrame((time) => this._animate(time));\r\n      } else {\r\n        setTimeout(() => {\r\n          this.isRunning = true;\r\n          this.startTime = null;\r\n          if (this.onStart) this.onStart();\r\n          this.animationFrame = requestAnimationFrame((time) => this._animate(time));\r\n        }, this.delay);\r\n      }\r\n      \r\n      return this;\r\n    }\r\n    \r\n    _animate(currentTime) {\r\n      if (!this.isRunning || this.isPaused) return;\r\n      \r\n      if (!this.startTime) this.startTime = currentTime;\r\n      \r\n      const elapsed = currentTime - this.startTime - this.totalPausedTime;\r\n      const progress = Math.min(elapsed / this.duration, 1);\r\n      const easedProgress = this.easing(progress);\r\n      \r\n      this._updateValues(this.isReversed ? 1 - easedProgress : easedProgress);\r\n      \r\n      if (this.onUpdate) {\r\n        this.onUpdate(easedProgress);\r\n      }\r\n      \r\n      if (progress < 1) {\r\n        this.animationFrame = requestAnimationFrame((time) => this._animate(time));\r\n      } else {\r\n        if (this.currentRepeat < this.repeat) {\r\n          this.currentRepeat++;\r\n          \r\n          if (this.yoyo) {\r\n            this.isReversed = !this.isReversed;\r\n          }\r\n          \r\n          setTimeout(() => {\r\n            this.startTime = null;\r\n            this.totalPausedTime = 0;\r\n            this.animationFrame = requestAnimationFrame((time) => this._animate(time));\r\n          }, this.repeatDelay);\r\n        } else {\r\n          this.isRunning = false;\r\n          if (this.onComplete) {\r\n            this.onComplete();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    _updateValues(progress) {\r\n      const transforms = {};\r\n      \r\n      for (const [key, startValue] of Object.entries(this.startValues)) {\r\n        const endValue = this.endValues[key];\r\n        \r\n        if (key.startsWith('transform.')) {\r\n          const transformKey = key.split('.')[1];\r\n          const currentValue = startValue + (endValue - startValue) * progress;\r\n          transforms[transformKey] = currentValue;\r\n        } else if (this.colorProperties.includes(key)) {\r\n          const color = ColorUtils.interpolate(startValue, endValue, progress);\r\n          this.element.style[key] = color;\r\n        } else {\r\n          const currentValue = startValue + (endValue - startValue) * progress;\r\n          this._applyStyle(key, currentValue);\r\n        }\r\n      }\r\n      \r\n      if (Object.keys(transforms).length > 0) {\r\n        this._applyTransform(transforms);\r\n      }\r\n    }\r\n    \r\n    _applyStyle(property, value) {\r\n      // Auto-add units for certain properties\r\n      const needsUnit = ['width', 'height', 'top', 'left', 'right', 'bottom', \r\n                         'margin', 'padding', 'fontSize', 'borderRadius'];\r\n      \r\n      if (needsUnit.some(prop => property.includes(prop))) {\r\n        this.element.style[property] = `${value}px`;\r\n      } else {\r\n        this.element.style[property] = value;\r\n      }\r\n    }\r\n    \r\n    _applyTransform(transforms) {\r\n      const transformStrings = [];\r\n      \r\n      for (const [key, value] of Object.entries(transforms)) {\r\n        let unit = '';\r\n        if (key.includes('translate')) unit = 'px';\r\n        if (key.includes('rotate') || key.includes('skew')) unit = 'deg';\r\n        if (key.includes('scale')) unit = '';\r\n        \r\n        transformStrings.push(`${key}(${value}${unit})`);\r\n      }\r\n      \r\n      this.element.style.transform = transformStrings.join(' ');\r\n    }\r\n    \r\n    pause() {\r\n      if (!this.isRunning || this.isPaused) return this;\r\n      \r\n      this.isPaused = true;\r\n      this.pausedTime = performance.now();\r\n      if (this.animationFrame) {\r\n        cancelAnimationFrame(this.animationFrame);\r\n      }\r\n      return this;\r\n    }\r\n    \r\n    resume() {\r\n      if (!this.isPaused) return this;\r\n      this.start();\r\n      return this;\r\n    }\r\n    \r\n    reverse() {\r\n      this.isReversed = !this.isReversed;\r\n      return this;\r\n    }\r\n    \r\n    restart() {\r\n      this.kill();\r\n      this.startTime = null;\r\n      this.totalPausedTime = 0;\r\n      this.currentRepeat = 0;\r\n      this.isReversed = false;\r\n      this.isPaused = false;\r\n      return this.start();\r\n    }\r\n    \r\n    seek(progress) {\r\n      const wasRunning = this.isRunning;\r\n      if (wasRunning) this.pause();\r\n      \r\n      const easedProgress = this.easing(Math.max(0, Math.min(1, progress)));\r\n      this._updateValues(easedProgress);\r\n      \r\n      if (wasRunning) this.resume();\r\n      return this;\r\n    }\r\n    \r\n    kill() {\r\n      this.isRunning = false;\r\n      this.isPaused = false;\r\n      if (this.animationFrame) {\r\n        cancelAnimationFrame(this.animationFrame);\r\n      }\r\n      return this;\r\n    }\r\n  }\r\n\r\n  // ==================== TIMELINE CLASS ====================\r\n  \r\n  class Timeline {\r\n    constructor(options = {}) {\r\n      this.animations = [];\r\n      this.labels = {};\r\n      this.position = 0;\r\n      this.options = options;\r\n    }\r\n    \r\n    to(element, properties, options = {}) {\r\n      const position = typeof options.position === 'string' \r\n        ? this._parsePosition(options.position)\r\n        : (options.position !== undefined ? options.position : this.position);\r\n      \r\n      const delay = options.delay || 0;\r\n      options.delay = position + delay;\r\n      \r\n      const animation = new Animation(element, properties, options);\r\n      this.animations.push(animation);\r\n      \r\n      this.position = position + (options.duration || 1000) + delay;\r\n      return this;\r\n    }\r\n    \r\n    from(element, properties, options = {}) {\r\n      const position = typeof options.position === 'string' \r\n        ? this._parsePosition(options.position)\r\n        : (options.position !== undefined ? options.position : this.position);\r\n      \r\n      const delay = options.delay || 0;\r\n      options.delay = position + delay;\r\n      \r\n      const animation = new Animation(element, properties, options);\r\n      const temp = animation.startValues;\r\n      animation.startValues = animation.endValues;\r\n      animation.endValues = temp;\r\n      \r\n      this.animations.push(animation);\r\n      \r\n      this.position = position + (options.duration || 1000) + delay;\r\n      return this;\r\n    }\r\n    \r\n    fromTo(element, fromProps, toProps, options = {}) {\r\n      const position = typeof options.position === 'string' \r\n        ? this._parsePosition(options.position)\r\n        : (options.position !== undefined ? options.position : this.position);\r\n      \r\n      const delay = options.delay || 0;\r\n      options.delay = position + delay;\r\n      \r\n      const animation = new Animation(element, toProps, options);\r\n      \r\n      for (const [key, value] of Object.entries(fromProps)) {\r\n        if (animation.startValues[key] !== undefined) {\r\n          animation.startValues[key] = typeof value === 'string' ? parseFloat(value) : value;\r\n        }\r\n      }\r\n      \r\n      this.animations.push(animation);\r\n      \r\n      this.position = position + (options.duration || 1000) + delay;\r\n      return this;\r\n    }\r\n    \r\n    addLabel(label, position) {\r\n      this.labels[label] = position !== undefined ? position : this.position;\r\n      return this;\r\n    }\r\n    \r\n    _parsePosition(position) {\r\n      if (position === '<') {\r\n        return Math.max(0, this.position - (this.animations[this.animations.length - 1]?.duration || 0));\r\n      }\r\n      \r\n      const labelMatch = position.match(/^([^+-]+)([+-]\\d+)?$/);\r\n      if (labelMatch && this.labels[labelMatch[1]] !== undefined) {\r\n        const offset = labelMatch[2] ? parseInt(labelMatch[2]) : 0;\r\n        return this.labels[labelMatch[1]] + offset;\r\n      }\r\n      \r\n      return parseFloat(position) || this.position;\r\n    }\r\n    \r\n    play() {\r\n      this.animations.forEach(anim => anim.start());\r\n      return this;\r\n    }\r\n    \r\n    pause() {\r\n      this.animations.forEach(anim => anim.pause());\r\n      return this;\r\n    }\r\n    \r\n    resume() {\r\n      this.animations.forEach(anim => anim.resume());\r\n      return this;\r\n    }\r\n    \r\n    restart() {\r\n      this.animations.forEach(anim => anim.restart());\r\n      this.position = 0;\r\n      return this;\r\n    }\r\n    \r\n    reverse() {\r\n      this.animations.forEach(anim => anim.reverse());\r\n      return this;\r\n    }\r\n    \r\n    seek(time) {\r\n      this.animations.forEach(anim => {\r\n        const relativeTime = time - (anim.delay || 0);\r\n        if (relativeTime >= 0) {\r\n          anim.seek(relativeTime / anim.duration);\r\n        }\r\n      });\r\n      return this;\r\n    }\r\n    \r\n    kill() {\r\n      this.animations.forEach(anim => anim.kill());\r\n      this.animations = [];\r\n      this.position = 0;\r\n      return this;\r\n    }\r\n  }\r\n\r\n  // ==================== SCROLL ANIMATIONS ====================\r\n  \r\n  class ScrollTrigger {\r\n    constructor(element, options = {}) {\r\n      this.element = element;\r\n      this.start = options.start || 'top 80%';\r\n      this.end = options.end || 'bottom 20%';\r\n      this.animation = options.animation;\r\n      this.onEnter = options.onEnter;\r\n      this.onLeave = options.onLeave;\r\n      this.once = options.once || false;\r\n      this.hasTriggered = false;\r\n      \r\n      this._setup();\r\n    }\r\n    \r\n    _setup() {\r\n      const observerOptions = {\r\n        threshold: this._calculateThreshold(),\r\n        rootMargin: '0px'\r\n      };\r\n      \r\n      this.observer = new IntersectionObserver((entries) => {\r\n        entries.forEach(entry => {\r\n          if (entry.isIntersecting) {\r\n            if (!this.hasTriggered || !this.once) {\r\n              if (this.animation) {\r\n                this.animation.start();\r\n              }\r\n              if (this.onEnter) {\r\n                this.onEnter(this.element);\r\n              }\r\n              this.hasTriggered = true;\r\n            }\r\n          } else {\r\n            if (this.onLeave && this.hasTriggered) {\r\n              this.onLeave(this.element);\r\n            }\r\n          }\r\n        });\r\n      }, observerOptions);\r\n      \r\n      this.observer.observe(this.element);\r\n    }\r\n    \r\n    _calculateThreshold() {\r\n      // Parse start position to threshold\r\n      // For simplicity, using a default threshold\r\n      return 0.1;\r\n    }\r\n    \r\n    kill() {\r\n      if (this.observer) {\r\n        this.observer.disconnect();\r\n      }\r\n      if (this.animation) {\r\n        this.animation.kill();\r\n      }\r\n    }\r\n  }\r\n\r\n  // ==================== STAGGER ANIMATIONS ====================\r\n  \r\n  function stagger(elements, properties, options = {}) {\r\n    const staggerDelay = options.stagger || 100;\r\n    const baseDelay = options.delay || 0;\r\n    const animations = [];\r\n    \r\n    elements.forEach((el, index) => {\r\n      const staggeredOptions = { \r\n        ...options, \r\n        delay: baseDelay + (index * staggerDelay) \r\n      };\r\n      \r\n      const element = typeof el === 'string' ? document.querySelector(el) : el;\r\n      animations.push(new Animation(element, properties, staggeredOptions).start());\r\n    });\r\n    \r\n    return animations;\r\n  }\r\n  \r\n  // ==================== PARALLAX CLASS ====================\r\n  \r\n  class Parallax {\r\n    constructor(element, options = {}) {\r\n      this.element = typeof element === 'string' ? document.querySelector(element) : element;\r\n      this.speed = options.speed || 0.5;\r\n      this.direction = options.direction || 'vertical';\r\n      this.offset = options.offset || 0;\r\n      \r\n      this._onScroll = this._onScroll.bind(this);\r\n      this.enable();\r\n    }\r\n    \r\n    _onScroll() {\r\n      const scrolled = window.pageYOffset;\r\n      const elementTop = this.element.getBoundingClientRect().top + scrolled;\r\n      const distance = scrolled - elementTop;\r\n      const offset = distance * this.speed + this.offset;\r\n      \r\n      if (this.direction === 'vertical') {\r\n        this.element.style.transform = `translateY(${offset}px)`;\r\n      } else {\r\n        this.element.style.transform = `translateX(${offset}px)`;\r\n      }\r\n    }\r\n    \r\n    enable() {\r\n      window.addEventListener('scroll', this._onScroll, { passive: true });\r\n      this._onScroll();\r\n    }\r\n    \r\n    disable() {\r\n      window.removeEventListener('scroll', this._onScroll);\r\n    }\r\n    \r\n    destroy() {\r\n      this.disable();\r\n      this.element.style.transform = '';\r\n    }\r\n  }\r\n  \r\n  // ==================== PATH ANIMATION ====================\r\n  \r\n  class PathAnimation {\r\n    constructor(element, path, options = {}) {\r\n      this.element = typeof element === 'string' ? document.querySelector(element) : element;\r\n      this.path = typeof path === 'string' ? document.querySelector(path) : path;\r\n      this.duration = options.duration || 2000;\r\n      this.easing = Easing[options.easing] || Easing.easeInOutCubic;\r\n      this.rotate = options.rotate !== false;\r\n      this.onComplete = options.onComplete;\r\n      \r\n      if (this.path instanceof SVGPathElement) {\r\n        this.pathLength = this.path.getTotalLength();\r\n      }\r\n    }\r\n    \r\n    start() {\r\n      if (!this.path || !this.pathLength) return this;\r\n      \r\n      const startTime = performance.now();\r\n      \r\n      const animate = (currentTime) => {\r\n        const elapsed = currentTime - startTime;\r\n        const progress = Math.min(elapsed / this.duration, 1);\r\n        const easedProgress = this.easing(progress);\r\n        \r\n        const distance = easedProgress * this.pathLength;\r\n        const point = this.path.getPointAtLength(distance);\r\n        \r\n        this.element.style.transform = `translate(${point.x}px, ${point.y}px)`;\r\n        \r\n        if (this.rotate && distance < this.pathLength - 1) {\r\n          const nextPoint = this.path.getPointAtLength(distance + 1);\r\n          const angle = Math.atan2(nextPoint.y - point.y, nextPoint.x - point.x) * (180 / Math.PI);\r\n          this.element.style.transform += ` rotate(${angle}deg)`;\r\n        }\r\n        \r\n        if (progress < 1) {\r\n          requestAnimationFrame(animate);\r\n        } else if (this.onComplete) {\r\n          this.onComplete();\r\n        }\r\n      };\r\n      \r\n      requestAnimationFrame(animate);\r\n      return this;\r\n    }\r\n  }\r\n\r\n  // ==================== PRESET ANIMATIONS ====================\r\n  \r\n  const Presets = {\r\n    fadeIn: {\r\n      opacity: 1,\r\n      duration: 600,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    fadeOut: {\r\n      opacity: 0,\r\n      duration: 600,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    slideInLeft: {\r\n      transform: { translateX: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    slideInRight: {\r\n      transform: { translateX: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    slideInUp: {\r\n      transform: { translateY: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    slideInDown: {\r\n      transform: { translateY: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutCubic'\r\n    },\r\n    \r\n    slideOutLeft: {\r\n      transform: { translateX: -100 },\r\n      opacity: 0,\r\n      duration: 600,\r\n      easing: 'easeInCubic'\r\n    },\r\n    \r\n    slideOutRight: {\r\n      transform: { translateX: 100 },\r\n      opacity: 0,\r\n      duration: 600,\r\n      easing: 'easeInCubic'\r\n    },\r\n    \r\n    zoomIn: {\r\n      transform: { scale: 1 },\r\n      opacity: 1,\r\n      duration: 600,\r\n      easing: 'easeOutBack'\r\n    },\r\n    \r\n    zoomOut: {\r\n      transform: { scale: 0 },\r\n      opacity: 0,\r\n      duration: 600,\r\n      easing: 'easeInBack'\r\n    },\r\n    \r\n    rotateIn: {\r\n      transform: { rotate: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutBack'\r\n    },\r\n    \r\n    rotateOut: {\r\n      transform: { rotate: 180 },\r\n      opacity: 0,\r\n      duration: 600,\r\n      easing: 'easeInBack'\r\n    },\r\n    \r\n    flipInX: {\r\n      transform: { rotateX: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutBack'\r\n    },\r\n    \r\n    flipInY: {\r\n      transform: { rotateY: 0 },\r\n      opacity: 1,\r\n      duration: 800,\r\n      easing: 'easeOutBack'\r\n    },\r\n    \r\n    bounce: {\r\n      transform: { translateY: 0 },\r\n      duration: 1000,\r\n      easing: 'bounce'\r\n    },\r\n    \r\n    pulse: {\r\n      transform: { scale: 1.05 },\r\n      duration: 400,\r\n      easing: 'easeInOutQuad',\r\n      yoyo: true,\r\n      repeat: 1\r\n    },\r\n    \r\n    shake: {\r\n      transform: { translateX: 10 },\r\n      duration: 100,\r\n      easing: 'linear',\r\n      yoyo: true,\r\n      repeat: 5\r\n    },\r\n    \r\n    swing: {\r\n      transform: { rotate: 15 },\r\n      duration: 500,\r\n      easing: 'easeInOutSine',\r\n      yoyo: true,\r\n      repeat: 2\r\n    },\r\n    \r\n    rubberBand: {\r\n      transform: { scaleX: 1.25, scaleY: 0.75 },\r\n      duration: 800,\r\n      easing: 'easeInOutElastic'\r\n    },\r\n    \r\n    jello: {\r\n      transform: { skewX: 0, skewY: 0 },\r\n      duration: 1000,\r\n      easing: 'easeInOutElastic'\r\n    },\r\n    \r\n    heartBeat: {\r\n      transform: { scale: 1.3 },\r\n      duration: 300,\r\n      easing: 'easeInOutQuad',\r\n      yoyo: true,\r\n      repeat: 2\r\n    }\r\n  };\r\n\r\n  // ==================== PUBLIC API ====================\r\n  \r\n  const LumaAnimate = {\r\n    // Core animation\r\n    to: (element, properties, options) => {\r\n      const el = typeof element === 'string' ? document.querySelector(element) : element;\r\n      return new Animation(el, properties, options).start();\r\n    },\r\n    \r\n    from: (element, properties, options) => {\r\n      const el = typeof element === 'string' ? document.querySelector(element) : element;\r\n      const animation = new Animation(el, properties, options);\r\n      const temp = animation.startValues;\r\n      animation.startValues = animation.endValues;\r\n      animation.endValues = temp;\r\n      return animation.start();\r\n    },\r\n    \r\n    fromTo: (element, fromProps, toProps, options) => {\r\n      const el = typeof element === 'string' ? document.querySelector(element) : element;\r\n      const animation = new Animation(el, toProps, options);\r\n      \r\n      for (const [key, value] of Object.entries(fromProps)) {\r\n        if (animation.startValues[key] !== undefined) {\r\n          animation.startValues[key] = typeof value === 'string' ? parseFloat(value) : value;\r\n        }\r\n      }\r\n      \r\n      return animation.start();\r\n    },\r\n    \r\n    // Batch animations\r\n    batch: (elements, properties, options) => {\r\n      const animations = [];\r\n      elements.forEach(el => {\r\n        const element = typeof el === 'string' ? document.querySelector(el) : el;\r\n        animations.push(new Animation(element, properties, options).start());\r\n      });\r\n      return animations;\r\n    },\r\n    \r\n    // Stagger animations\r\n    stagger: (elements, properties, options) => {\r\n      return stagger(elements, properties, options);\r\n    },\r\n    \r\n    // Timeline\r\n    timeline: (options) => new Timeline(options),\r\n    \r\n    // Scroll trigger\r\n    scrollTrigger: (element, options) => {\r\n      const el = typeof element === 'string' ? document.querySelector(element) : element;\r\n      return new ScrollTrigger(el, options);\r\n    },\r\n    \r\n    // Parallax\r\n    parallax: (element, options) => {\r\n      return new Parallax(element, options);\r\n    },\r\n    \r\n    // Path animation\r\n    pathAnimation: (element, path, options) => {\r\n      return new PathAnimation(element, path, options);\r\n    },\r\n    \r\n    // Preset animations\r\n    animate: (element, presetName, options = {}) => {\r\n      const el = typeof element === 'string' ? document.querySelector(element) : element;\r\n      const preset = Presets[presetName];\r\n      \r\n      if (!preset) {\r\n        console.warn(`[LumaAnimate] Preset \"${presetName}\" not found`);\r\n        return;\r\n      }\r\n      \r\n      const props = { ...preset };\r\n      const animOptions = { ...props, ...options };\r\n      delete animOptions.transform;\r\n      delete animOptions.opacity;\r\n      \r\n      const animProps = {};\r\n      if (preset.transform) animProps.transform = preset.transform;\r\n      if (preset.opacity !== undefined) animProps.opacity = preset.opacity;\r\n      \r\n      return new Animation(el, animProps, animOptions).start();\r\n    },\r\n    \r\n    // Utility functions\r\n    killAll: () => {\r\n      document.querySelectorAll('[data-luma-animated]').forEach(el => {\r\n        el.style.transition = '';\r\n        el.style.animation = '';\r\n      });\r\n    },\r\n    \r\n    // Easing\r\n    easing: Easing,\r\n    \r\n    // Presets\r\n    presets: Presets,\r\n    \r\n    // Version\r\n    version: '0.2.1'\r\n  };\r\n\r\n  // Export\r\n  if (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = LumaAnimate;\r\n  } else {\r\n    global.LumaAnimate = LumaAnimate;\r\n  }\r\n\r\n})(typeof window !== 'undefined' ? window : globalThis);\r\n"],"names":["global","Easing","linear","t","easeInQuad","easeInCubic","easeInQuart","easeInQuint","easeInSine","Math","cos","PI","easeInExpo","pow","easeInCirc","sqrt","easeInBack","c1","easeOutQuad","easeOutCubic","easeOutQuart","easeOutQuint","easeOutSine","sin","easeOutExpo","easeOutCirc","easeOutBack","easeInOutQuad","easeInOutCubic","easeInOutQuart","easeInOutSine","easeInOutExpo","easeInOutCirc","easeInOutBack","c2","elastic","p","easeInElastic","c4","easeOutElastic","easeInOutElastic","c5","bounce","n1","d1","easeInBounce","easeOutBounce","easeInOutBounce","tension","friction","w0","zeta","wd","B","exp","ColorUtils","hexToRgb","hex","result","exec","r","parseInt","g","b","rgbToHex","map","x","round","toString","length","join","parseColor","color","startsWith","this","match","interpolate","color1","color2","progress","Animation","constructor","element","properties","options","duration","delay","easing","onComplete","onUpdate","onStart","repeat","yoyo","repeatDelay","startTime","startValues","endValues","colorProperties","animationFrame","isRunning","isPaused","pausedTime","totalPausedTime","currentRepeat","isReversed","_parseProperties","key","value","Object","entries","_parseTransform","_isColorProperty","push","_getCurrentColorValue","current","_getCurrentValue","_parseValue","prop","some","cp","toLowerCase","includes","property","window","getComputedStyle","transform","transforms","_parseTransformString","_getCurrentTransform","str","regex","parseFloat","slice","start","performance","now","requestAnimationFrame","time","_animate","setTimeout","currentTime","elapsed","min","easedProgress","_updateValues","startValue","endValue","currentValue","split","style","_applyStyle","keys","_applyTransform","transformStrings","unit","pause","cancelAnimationFrame","resume","reverse","restart","kill","seek","wasRunning","max","Timeline","animations","labels","position","to","_parsePosition","undefined","animation","from","temp","fromTo","fromProps","toProps","addLabel","label","labelMatch","offset","play","forEach","anim","relativeTime","ScrollTrigger","end","onEnter","onLeave","once","hasTriggered","_setup","observerOptions","threshold","_calculateThreshold","rootMargin","observer","IntersectionObserver","entry","isIntersecting","observe","disconnect","Parallax","document","querySelector","speed","direction","_onScroll","bind","enable","scrolled","pageYOffset","getBoundingClientRect","top","addEventListener","passive","disable","removeEventListener","destroy","PathAnimation","path","rotate","SVGPathElement","pathLength","getTotalLength","animate","distance","point","getPointAtLength","y","nextPoint","angle","atan2","Presets","fadeIn","opacity","fadeOut","slideInLeft","translateX","slideInRight","slideInUp","translateY","slideInDown","slideOutLeft","slideOutRight","zoomIn","scale","zoomOut","rotateIn","rotateOut","flipInX","rotateX","flipInY","rotateY","pulse","shake","swing","rubberBand","scaleX","scaleY","jello","skewX","skewY","heartBeat","LumaAnimate","el","batch","elements","stagger","staggerDelay","baseDelay","index","staggeredOptions","timeline","scrollTrigger","parallax","pathAnimation","presetName","preset","console","warn","animOptions","animProps","killAll","querySelectorAll","transition","presets","version","module","exports","globalThis"],"mappings":"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"}