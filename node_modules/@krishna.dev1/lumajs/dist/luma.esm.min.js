/*!
 * LumaJS v0.3.0
 * (c) 2025 LumaJS Team
 * @license MIT
 */
/*!
 * LumaJS v0.1.0 - React-like Framework
 * Component-based reactive UI library
 * @license MIT
 */
!function(e){let o=null,t=0;function n(e,n){if(!o)throw new Error("useMemo must be called inside a component");const s=o,r=t++,c=!n,u=!s._hooks[r]||!n||!s._hooks[r].deps||n.some((e,o)=>e!==s._hooks[r].deps[o]);if(c||u){const o=e();return s._hooks[r]={type:"memo",value:o,deps:n?[...n]:void 0},o}return s._hooks[r].value}function s(e,o,...t){return{type:e,props:o||{},children:t.flat(1/0).filter(e=>null!=e&&!1!==e).map(e=>"object"==typeof e&&null!==e&&"type"in e?e:{type:"TEXT",props:{},children:[],text:String(e)})}}function r(e){if("TEXT"===e.type)return document.createTextNode(e.text||"");if("function"==typeof e.type){return function(e,o){const t={Component:e,props:o,_hooks:[],_effects:[],_dom:null,_vnode:null,_mounted:!1};return c(t),t}(e.type,e.props)._dom}const o=document.createElement(e.type);return Object.entries(e.props||{}).forEach(([e,t])=>{if(e.startsWith("on")&&"function"==typeof t){const n=e.slice(2).toLowerCase();o.addEventListener(n,t)}else"className"===e?o.className=t:"style"===e&&"object"==typeof t?Object.assign(o.style,t):"children"!==e&&o.setAttribute(e,t)}),e.children.forEach(e=>{o.appendChild(r(e))}),o}function c(e){o=e,t=0,e._effects=[];const n=e.Component(e.props);e._vnode=n;const s=r(n);e._dom&&e._dom.replaceWith(s),e._dom=s,o=null,e._mounted?e._effects.forEach(e=>e()):Promise.resolve().then(()=>{e._mounted=!0,e._effects.forEach(e=>e())})}const u=new Set;let i=!1;const f={h:s,render:function(e,o){const t="string"==typeof o?document.querySelector(o):o;if(!t)throw new Error("[Luma] Container not found");t.innerHTML="",t.appendChild(r(e))},Fragment:function(e){return s("div",{style:{display:"contents"}},e.children)},useState:function(e){if(!o)throw new Error("useState must be called inside a component");const n=o,s=t++;if(!n._hooks[s]){const o=function(e){const o=new Set;let t=e;return{get value(){return t},set value(e){t!==e&&(t=e,o.forEach(e=>e()))},_subscribers:o}}("function"==typeof e?e():e);n._hooks[s]={type:"state",state:o}}const r=n._hooks[s];return[r.state.value,e=>{const o="function"==typeof e?e(r.state.value):e;r.state.value!==o&&(r.state.value=o,function(e){u.add(e),i||(i=!0,Promise.resolve().then(()=>{i=!1;const e=Array.from(u);u.clear(),e.forEach(e=>c(e))}))}(n))}]},useEffect:function(e,n){if(!o)throw new Error("useEffect must be called inside a component");const s=o,r=t++,c=!n,u=!s._hooks[r]||!n||!s._hooks[r].deps||n.some((e,o)=>e!==s._hooks[r].deps[o]);(c||u)&&(s._hooks[r]?.cleanup&&s._hooks[r].cleanup(),s._effects.push(()=>{const o=e();s._hooks[r]&&(s._hooks[r].cleanup=o)})),s._hooks[r]={type:"effect",deps:n?[...n]:void 0,cleanup:s._hooks[r]?.cleanup}},useRef:function(e){if(!o)throw new Error("useRef must be called inside a component");const n=o,s=t++;return n._hooks[s]||(n._hooks[s]={type:"ref",current:e}),n._hooks[s]},useMemo:n,useCallback:function(e,o){return n(()=>e,o)},createElement:r,version:"0.1.0"};"undefined"!=typeof module&&module.exports?module.exports=f:e.Luma=f}("undefined"!=typeof window?window:globalThis);
//# sourceMappingURL=luma.esm.min.js.map
